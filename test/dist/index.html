<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CSS 3D Coverflow</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
  <link rel="stylesheet" href="./style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js"></script>
  <script src="./images.js"></script>
</head>
<body>
  <div class="main-container">
    <div class="coverflow-container">
      <ol class="coverflow-list" id="coverflow-list">
        <!-- Cover items will be dynamically inserted here -->
      </ol>
    </div>
    <div class="controls" id="controls">
      <!-- Controls will be dynamically inserted here -->
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // 使用 imagesData 变量
      const data = imagesData;

      const coverflowList = document.getElementById('coverflow-list');
      const controls = document.getElementById('controls');

      data.forEach((item, index) => {
        // 创建 cover 项
        const input = document.createElement('input');
        input.type = 'radio';
        input.name = 'cover-item';
        input.id = item.id;
        input.setAttribute('aria-label', `Select album ${index + 1}`);

        const li = document.createElement('li');
        li.className = 'coverflow-item';

        const label = document.createElement('label');
        label.htmlFor = item.id;

        const figure = document.createElement('figure');
        figure.className = 'album-cover';

        const img = document.createElement('img');
        img.src = item.image;
        img.alt = item.name;

        const figcaption = document.createElement('figcaption');
        figcaption.className = 'album-name';
        figcaption.textContent = item.name;

        figure.appendChild(img);
        figure.appendChild(figcaption);
        label.appendChild(figure);
        li.appendChild(label);

        coverflowList.appendChild(input);
        coverflowList.appendChild(li);

        // 创建控制标签
        const controlLabel = document.createElement('label');
        controlLabel.htmlFor = item.id;
        controlLabel.textContent = index + 1;
        controls.appendChild(controlLabel);
      });
    });
  </script>
</body>
</html>
